<!DOCTYPE html>
<html lang="zh-cmn-Hans">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <base target="_parent">
  <meta name="referrer" content="same-origin">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="/style/reset.css">
  <link rel="stylesheet" href="/style/style.css">
  <script src="//unpkg.com/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>
  <title>MCWXT的个人博客|讨论</title>
</head>
<script type="importmap">
  {
    "imports": {
      "vue": "https://unpkg.com/vue@3/dist/vue.esm-browser.prod.js"
    }
  }
</script>
<style>

</style>

<body id="app" class="mx-auto">
  <div v-if="discussion">
    <div class="p-2">
      <h1 class="mt-3">{{discussion.title}} <span class="text-dark-emphasis">#{{number}}</span></h1>
      <span class="my-2 text-dark-emphasis">更新于: {{discussion.updated_at}}</span>
    </div>
    <div class="p-2">
      <div class="border border-dark-subtle rounded">
        <div class="my-2">
          <img class="rounded-circle mx-2" style="width: 2rem;" :src="discussion.user.avatar_url" alt="">
          <span>{{discussion.user.login}}</span>
        </div>
        <div class="p-2">
          <div class="mx-2" v-html="marked.parse(discussion.body)">

          </div>
        </div>
      </div>
    </div>
    <div>
      <div class="my-4">
        <div class="py-2 position-relative">
          <span class="m-3">评论</span>
          <span class="text-dark-emphasis">{{discussion.comments}}</span>
          <a class="btn btn-success btn-sm position-absolute end-0 top-50 translate-middle" role="button" :href="'//github.com/MCWXT/mcwxt.github.io/discussions/' + number">新评论</a>
        </div>
        <div v-if="comments" class="m-2 border rounded" v-if="comments[0]" v-for="comment in comments">
          <div class="py-2">
            <img class="rounded-circle mx-2" style="width: 2rem;" :src="comment.user.avatar_url" alt="">
            <span>{{comment.user.login}}</span>
            <span class="my-2 ms-2 text-dark-emphasis">{{comment.updated_at}}</span>
          </div>
          <div class="p-2">
            <span class="mx-2">{{comment.body}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</body>
<script src="/script/page/discussion.js" type="module"></script>

</html>